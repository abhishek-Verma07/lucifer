<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday My Cutiee Chwenchy ‚úâÔ∏è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: "Comic Sans MS", "Comic Sans", system-ui, -apple-system,
        BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #ffd1ff 0, #ff9a9e 35%, #2b5876 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      color: #fff;
      overflow-x: hidden;
    }

    .container {
      width: 100%;
      max-width: 540px;
      background: rgba(0, 0, 0, 0.25);
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
      padding: 20px 16px 28px;
      text-align: center;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(12px);
    }

    /* Floating bubbles */
    .bubble {
      position: absolute;
      border-radius: 50%;
      opacity: 0.35;
      animation: float 14s linear infinite;
      pointer-events: none;
    }
    .bubble.small { width: 24px; height: 24px; }
    .bubble.medium { width: 40px; height: 40px; }
    .bubble.large { width: 60px; height: 60px; }

    .bubble.small { top: 80%; left: 5%; background: #ffeaa7; animation-delay: 0s; }
    .bubble.large { top: 90%; left: 80%; background: #fd79a8; animation-delay: 3s; }
    .bubble.medium { top: 75%; left: 50%; background: #74b9ff; animation-delay: 6s; }

    @keyframes float {
      0% { transform: translateY(0) translateX(0); }
      50% { transform: translateY(-40px) translateX(15px); }
      100% { transform: translateY(0) translateX(0); }
    }

    h1 {
      font-size: 1.9rem;
      line-height: 1.2;
      margin-bottom: 4px;
    }

    h1 span {
      font-size: 2.1rem;
      background: linear-gradient(45deg, #ffeaa7, #fab1a0, #ff7675);
      -webkit-background-clip: text;
      color: transparent;
      font-weight: 700;
    }

    .subtitle {
      font-size: 0.9rem;
      opacity: 0.9;
      margin-bottom: 12px;
    }

    .subtitle span {
      font-weight: 600;
    }

    /* Teddy */
    .teddy-wrap {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 8px;
    }

    .teddy-emoji {
      font-size: 5rem;
      filter: drop-shadow(0 8px 10px rgba(0, 0, 0, 0.35));
      animation: bob 2.4s ease-in-out infinite;
    }

    @keyframes bob {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* Sticker image (her photo) */
    .sticker-wrap {
      margin: 4px auto 14px;
      display: flex;
      justify-content: center;
    }

    .sticker-img {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
      border: 3px solid rgba(255, 255, 255, 0.7);
    }

    /* Envelope section - classy, less cartoon */
    .envelope-section {
      margin: 8px auto 12px;
    }

    .envelope-hint {
      font-size: 0.9rem;
      opacity: 0.95;
      margin-bottom: 6px;
    }

    .tap-text {
      font-size: 0.82rem;
      opacity: 0.86;
      margin-bottom: 8px;
    }

    .envelope-wrapper {
      display: flex;
      justify-content: center;
      margin-bottom: 8px;
    }

    .envelope {
      width: 100%;
      max-width: 430px;
      position: relative;
      cursor: pointer;
    }

    .envelope-body {
      position: relative;
      width: 100%;
      padding-top: 110px;
      border-radius: 18px;
      background:
        linear-gradient(135deg, #f3e2c9, #e4c399),
        repeating-linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.18) 0,
          rgba(255, 255, 255, 0.18) 22px,
          rgba(0, 0, 0, 0.03) 22px,
          rgba(0, 0, 0, 0.03) 24px
        );
      box-shadow: 0 16px 30px rgba(0, 0, 0, 0.4);
      overflow: visible;
    }

    .envelope-front {
      position: absolute;
      inset: 0;
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.4);
      background: linear-gradient(145deg, #fbf3e8, #f0d7b6);
      z-index: 1;
    }

    .envelope-flap {
      position: absolute;
      inset: 0;
      background: linear-gradient(145deg, #fbe9d7, #f4d2ae);
      clip-path: polygon(0 0, 50% 60%, 100% 0);
      transform-origin: top;
      transform: rotateX(0deg);
      transition: transform 0.6s ease;
      z-index: 3;
    }

    .envelope-seal {
      position: absolute;
      top: 52%;
      left: 50%;
      transform: translate(-50%, -40%);
      width: 44px;
      height: 44px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      border: 1px solid rgba(255, 255, 255, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      color: #fef4da;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.35);
      z-index: 4;
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .letter {
      position: relative;
      width: 92%;
      margin: 122px auto 14px;
      background: #fff;
      border-radius: 16px;
      padding: 16px 14px 18px;
      text-align: left;
      color: #2d3436;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.35);
      opacity: 0;
      max-height: 0;
      overflow: hidden;
      z-index: 2;
      transition: opacity 0.5s ease, max-height 0.5s ease;
    }

    .letter h2 {
      font-size: 1rem;
      margin-bottom: 6px;
      color: #d63031;
    }

    .letter p {
      font-size: 0.9rem;
      line-height: 1.45;
      margin-bottom: 6px;
    }

    .letter p.closing {
      margin-top: 8px;
      font-weight: 600;
      color: #6c5ce7;
    }

    .envelope.open .envelope-flap {
      transform: rotateX(-160deg);
    }

    .envelope.open .envelope-seal {
      opacity: 0;
      transform: translate(-50%, -40%) scale(0.85);
    }

    .envelope.open .letter {
      opacity: 1;
      max-height: 500px;
    }

    /* Promise list section */
    .after-letter {
      margin-top: 10px;
      opacity: 0;
      transform: translateY(12px);
      max-height: 0;
      overflow: hidden;
      transition: opacity 0.7s ease, transform 0.7s ease, max-height 0.7s ease;
    }

    .after-letter.show {
      opacity: 1;
      transform: translateY(0);
      max-height: 600px;
    }

    .wish-line {
      font-size: 0.95rem;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .typewriter {
      font-size: 0.9rem;
      min-height: 20px;
      margin-bottom: 10px;
      opacity: 0.92;
      white-space: pre-line;
    }

    .cards-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-top: 4px;
    }

    .mini-card {
      flex: 1 1 150px;
      max-width: 240px;
      background: rgba(0, 0, 0, 0.35);
      border-radius: 14px;
      padding: 8px 10px 10px;
      text-align: left;
      font-size: 0.88rem;
      line-height: 1.4;
      border: 1px solid rgba(255, 255, 255, 0.12);
      opacity: 0;
      transform: translateX(32px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .mini-card.show {
      opacity: 1;
      transform: translateX(0);
    }

    .mini-card-title {
      font-weight: 600;
      font-size: 0.9rem;
      margin-bottom: 3px;
    }

    /* Music + steps section */
    .steps-section {
      margin-top: 14px;
      margin-bottom: 6px;
    }

    .steps-title {
      font-size: 0.9rem;
      opacity: 0.95;
      margin-bottom: 4px;
    }

    .step-text {
      font-size: 0.85rem;
      opacity: 0.9;
      margin-bottom: 4px;
    }

    .music-btn {
      margin-top: 8px;
      padding: 7px 18px;
      border-radius: 999px;
      border: none;
      outline: none;
      font-size: 0.85rem;
      font-weight: 500;
      cursor: pointer;
      background: #ffeaa7;
      color: #d63031;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.5);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    .music-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.6);
    }

    .music-btn:active {
      transform: translateY(1px) scale(0.97);
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.6);
    }

    /* Cake area */
    .cake-section {
      margin-top: 12px;
    }

    .cake-wrap {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 6px;
      padding: 10px 0 4px;
    }

    .cake {
      width: 170px;
      height: 96px;
      background: linear-gradient(145deg, #fff3e0, #ffe0c2);
      border-radius: 24px;
      box-shadow:
        0 10px 24px rgba(0, 0, 0, 0.35),
        inset 0 0 0 1px rgba(255, 255, 255, 0.6);
      position: relative;
      overflow: hidden;
      margin-bottom: 10px;
    }

    .cake::before {
      content: "";
      position: absolute;
      inset: 10px 16px;
      border-radius: 18px;
      border-top: 1px solid rgba(255, 255, 255, 0.8);
      border-bottom: 1px solid rgba(0, 0, 0, 0.06);
      background: linear-gradient(to right, rgba(255, 198, 160, 0.4), rgba(255, 255, 255, 0.2));
      opacity: 0.8;
    }

    .cake::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 30px;
      background: radial-gradient(circle at 50% 0, rgba(0,0,0,0.08), transparent 60%);
      opacity: 0.35;
    }

    .cake-plate {
      width: 190px;
      height: 22px;
      background: rgba(243, 243, 243, 0.95);
      border-radius: 999px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
    }

    .candles {
      position: absolute;
      top: -34px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
    }

    .candle {
      width: 10px;
      height: 28px;
      background: linear-gradient(180deg, #ffffff, #ffe6cc);
      border-radius: 999px;
      box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05);
      position: relative;
    }

    .candle::after {
      content: "";
      position: absolute;
      top: -4px;
      left: 50%;
      transform: translateX(-50%);
      width: 3px;
      height: 6px;
      background: #444;
      border-radius: 999px;
    }

    .flame {
      position: absolute;
      top: -16px;
      left: 50%;
      transform: translateX(-50%);
      width: 14px;
      height: 18px;
      background: radial-gradient(circle at 50% 20%, #ffeaa7 0, #fdcb6e 40%, #e17055 75%);
      border-radius: 50%;
      animation: flicker 0.8s infinite alternate;
      box-shadow: 0 0 14px rgba(255, 234, 167, 0.9);
    }

    .candles.blown .flame {
      opacity: 0;
      box-shadow: none;
      animation: none;
    }

    .cake-instruction {
      font-size: 0.84rem;
      opacity: 0.92;
      margin-top: 6px;
    }

    .cake-instruction strong {
      font-weight: 700;
    }

    /* Enjoy message */
    .enjoy-message {
      margin-top: 16px;
      font-size: 0.95rem;
      font-weight: 600;
      line-height: 1.6;
      opacity: 0;
      transform: translateY(12px) scale(0.97);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .enjoy-message.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Confetti / jhalars */
    .confetti-piece,
    .jhalar-piece {
      position: fixed;
      top: -30px;
      z-index: 9999;
      pointer-events: none;
      opacity: 0.95;
      border-radius: 3px;
      animation: confetti-fall linear forwards;
    }

    .confetti-piece {
      width: 7px;
      height: 14px;
    }

    .jhalar-piece {
      width: 4px;
      height: 70px;
    }

    @keyframes confetti-fall {
      0% { transform: translateY(0) rotate(0deg); }
      100% { transform: translateY(110vh) rotate(360deg); }
    }

    @media (min-width: 768px) {
      h1 { font-size: 2.1rem; }
      h1 span { font-size: 2.3rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Soft bubbles -->
    <div class="bubble small"></div>
    <div class="bubble large"></div>
    <div class="bubble medium"></div>

    <!-- Heading -->
    <h1>Happy Birthday, <span>Chwenchy Babuu</span> üéâ</h1>
    <p class="subtitle">
      from Lucifer üòâ
      <span>Your Crazy Friend üòú</span>
    </p>

    <!-- Teddy -->
    <div class="teddy-wrap">
      <div class="teddy-emoji">üß∏</div>
    </div>

    <!-- Her photo -->
    <div class="sticker-wrap">
      <img src="chwenchy.png" alt="Chwenchy" class="sticker-img" />
    </div>

    <!-- Envelope -->
    <div class="envelope-section">
      <p class="envelope-hint">Ikk secret letter hai tere liye, Chwenchy ‚úâÔ∏è</p>
      <p class="tap-text">Envelope pe click / tap kar ke open kar üëá</p>

      <div class="envelope-wrapper">
        <div class="envelope" id="envelope">
          <div class="envelope-body">
            <div class="envelope-front"></div>
            <div class="envelope-flap"></div>
            <div class="envelope-seal">‚≠ê</div>

            <div class="letter" id="letter">
              <h2>Dear babuu, Chwenchy,</h2>
              <p>
                Happy Birthday, to my cutest bestieüíï! üí´ Aaj ka din sirf
                <strong>tera</strong> hai, isliye Am grateful ki tu meri bestie hai.
              </p>
              <p>
                Teri bakchodi, teri bakbak, tera care, aur tera
                ‚Äúthoda sa attitude‚Äù ‚Äì sab kuch perfect combo hai. üòå
              </p>
              <p>
                Main wish karta hu ki tera har dream reality ban jaye,
                tujhe hamesha woh log mile jo tujhe genuinely value karein,
                aur kabhi bhi tera smile fade na ho. Jo bhi tension ho,
                Idhar transfer kar diya kar, Aur kis liye hoon main? üíïüòé
              </p>
              <p class="closing">
                Stay this pure, this crazy & this special forever.  
                I‚Äôm always here ‚Äì a call, a text, ya ek ‚ÄúHeyy ree‚Äù door.üíùü´∂
              </p>
              <p class="closing">
                With lots of love,  
                Abhishek üòâ
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Promise list (under envelope) -->
    <div class="after-letter" id="afterLetter">
      <p class="wish-line">‚ú® Aaj ke liye ek chhota sa promise list for you ‚ú®</p>
      <p class="typewriter" id="typewriter"></p>

      <div class="cards-row">
        <div class="mini-card">
          <div class="mini-card-title">üåü Wish #1</div>
          <p>
            Tere life me hamesha peace rahe aur sirf good vibesü§ó, good newsüíñ & good foodü´†.
          </p>
        </div>
        <div class="mini-card">
          <div class="mini-card-title">üß∏ Wish #2</div>
          <p>
            Tanna nin naaare naran na naaro naaare naaare rooooü§£ü§£ ü§£ü§£ .
          </p>
        </div>
      </div>
    </div>

    <!-- Play music + steps -->
    <div class="steps-section">
      <p class="steps-title">üëá Ab thoda birthday ritual karein üòå</p>
      <p class="step-text">Step 1: Pehle birthday song play kar üéµ</p>
      <button class="music-btn" id="musicBtn">
        üéµ Play Birthday Song
      </button>
      <p class="step-text" id="blowText">Step 2: Song ke saath cake ko tap karke candles blow kar üïØÔ∏è</p>
      <p class="step-text">Step 3: Fir swipe to cut the cake üëâüç∞</p>
    </div>

    <!-- Cake area -->
    <div class="cake-section">
      <div class="cake-wrap" id="cakeWrap">
        <div class="cake" id="cake">
          <div class="candles" id="candles">
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
          </div>
        </div>
        <div class="cake-plate"></div>
        <p class="cake-instruction">
          (Tap once to blow the candles, then <strong>swipe to cut the cake</strong> üòå)
        </p>
      </div>
    </div>

    <!-- Enjoy message (after cut + scroll) -->
    <div class="enjoy-message" id="enjoyMessage">
      Enjoy your day to the fullest, Chwenchy! üíñ<br />
      Tu deserve karti hai saare smiles, saari good vibes aur bohot saari happiness aaj ke din. ‚ú®
    </div>

    <!-- Audio -->
    <audio id="music" src="birthday.mp3"></audio>
    <audio id="clapAudio" src="clap.mp3"></audio>
  </div>

  <script>
    const envelope = document.getElementById("envelope");
    const letter = document.getElementById("letter");
    const afterLetter = document.getElementById("afterLetter");
    const typewriterEl = document.getElementById("typewriter");
    const musicBtn = document.getElementById("musicBtn");
    const music = document.getElementById("music");
    const cards = document.querySelectorAll(".mini-card");
    const cakeWrap = document.getElementById("cakeWrap");
    const cake = document.getElementById("cake");
    const candles = document.getElementById("candles");
    const clapAudio = document.getElementById("clapAudio");
    const enjoyMessage = document.getElementById("enjoyMessage");

    let letterOpened = false;
    let promisesShown = false;
    let candlesBlown = false;
    let cakeCut = false;
    let enjoyReady = false;
    let enjoyShown = false;

    const twText =
      "Sweetie, is saal sirf ek hi target: more smiles, more memories,\n" +
      "aur hum dono ki aur bhi zyada bakchodi together. ‚ú®";

    function startTypewriter(text, element, speed = 45) {
      let i = 0;
      element.textContent = "";
      const interval = setInterval(() => {
        element.textContent += text.charAt(i);
        i++;
        if (i >= text.length) {
          clearInterval(interval);
        }
      }, speed);
    }

    function revealCardsSequentially() {
      cards.forEach((card, index) => {
        setTimeout(() => {
          card.classList.add("show");
        }, 450 * index);
      });
    }

    function launchConfetti() {
      const colors = ["#ffeaa7", "#fab1a0", "#ff7675", "#74b9ff", "#a29bfe", "#fd79a8"];
      for (let i = 0; i < 70; i++) {
        const piece = document.createElement("div");
        piece.classList.add("confetti-piece");
        piece.style.left = Math.random() * 100 + "vw";
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        const duration = 3 + Math.random() * 2;
        piece.style.animationDuration = duration + "s";
        document.body.appendChild(piece);
        setTimeout(() => piece.remove(), duration * 1000);
      }
    }

    function launchJhalars() {
      const colors = ["#ffeaa7", "#fab1a0", "#ff7675", "#74b9ff", "#a29bfe"];
      for (let i = 0; i < 30; i++) {
        const piece = document.createElement("div");
        piece.classList.add("jhalar-piece");
        piece.style.left = Math.random() * 100 + "vw";
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        const duration = 3 + Math.random() * 2;
        piece.style.animationDuration = duration + "s";
        document.body.appendChild(piece);
        setTimeout(() => piece.remove(), duration * 1000);
      }
    }

    // Promise list show when letter opened + user thoda scroll/interaction kare
    function checkScrollForPromises() {
      if (!letterOpened || promisesShown) return;
      const rect = letter.getBoundingClientRect();
      if (rect.bottom < window.innerHeight - 40 || window.scrollY > 100) {
        promisesShown = true;
        afterLetter.classList.add("show");
        startTypewriter(twText, typewriterEl);
        launchConfetti();
        revealCardsSequentially();
      }
    }

    // Enjoy message show after cake cut + scroll
    function checkScrollForEnjoy() {
      if (!enjoyReady || enjoyShown) return;
      const rect = enjoyMessage.getBoundingClientRect();
      if (rect.top < window.innerHeight - 60) {
        enjoyShown = true;
        enjoyMessage.classList.add("show");
      }
    }

    window.addEventListener("scroll", () => {
      checkScrollForPromises();
      checkScrollForEnjoy();
    });

    // Envelope click
    envelope.addEventListener("click", () => {
      envelope.classList.add("open");
      if (!letterOpened) {
        letterOpened = true;
        // Agar user scroll na bhi kare to thode time baad promise dikh jaaye
        setTimeout(() => {
          if (!promisesShown) {
            promisesShown = true;
            afterLetter.classList.add("show");
            startTypewriter(twText, typewriterEl);
            launchConfetti();
            revealCardsSequentially();
          }
        }, 1500);
      }
    });

    // Cake interactions
    function blowOutCandlesOnce() {
      if (candlesBlown) return;
      candlesBlown = true;
      candles.classList.add("blown");
    }

    // tap to blow
    cakeWrap.addEventListener("click", () => {
      if (!candlesBlown) {
        blowOutCandlesOnce();
      }
    });

    // swipe to cut
    let touchStartX = null;

    cakeWrap.addEventListener("touchstart", (e) => {
      touchStartX = e.changedTouches[0].clientX;
    });

    cakeWrap.addEventListener("touchend", (e) => {
      if (!candlesBlown || cakeCut || touchStartX === null) return;
      const endX = e.changedTouches[0].clientX;
      const diffX = endX - touchStartX;
      if (Math.abs(diffX) > 50) {
        cutCake();
      }
      touchStartX = null;
    });

    // desktop fallback: double click to cut
    cakeWrap.addEventListener("dblclick", () => {
      if (candlesBlown && !cakeCut) {
        cutCake();
      }
    });

    function cutCake() {
      if (cakeCut) return;
      cakeCut = true;
      cake.style.boxShadow =
        "0 10px 24px rgba(0,0,0,0.45), inset 0 -2px 0 rgba(0,0,0,0.08)";
      cake.style.position = "relative";
      cake.style.overflow = "visible";

      const cutLine = document.createElement("div");
      cutLine.style.position = "absolute";
      cutLine.style.top = "0";
      cutLine.style.bottom = "0";
      cutLine.style.left = "50%";
      cutLine.style.width = "2px";
      cutLine.style.background = "rgba(0,0,0,0.12)";
      cutLine.style.boxShadow = "0 0 6px rgba(0,0,0,0.2)";
      cake.appendChild(cutLine);

      if (clapAudio) {
        clapAudio.currentTime = 0;
        clapAudio.play().catch(() => {});
      }

      launchJhalars();
      enjoyReady = true;
      // agar woh scroll na kare to bhi thoda time baad message dikha de
      setTimeout(() => {
        if (!enjoyShown) {
          enjoyShown = true;
          enjoyMessage.classList.add("show");
        }
      }, 2500);
    }

    // Music button
    musicBtn.addEventListener("click", () => {
      if (music.paused) {
        music
          .play()
          .then(() => {
            musicBtn.textContent = "‚è∏ Pause Birthday Song";
          })
          .catch(() => {
            alert("Browser ne auto-play block kar diyaü§£ü§£. Thoda wait karke dobara try kar üôÇ");
          });
      } else {
        music.pause();
        musicBtn.textContent = "üéµ Play Birthday Song";
      }
    });
  </script>
</body>
</html>
